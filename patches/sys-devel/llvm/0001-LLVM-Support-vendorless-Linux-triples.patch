From 709aabe6ce52b15821373618a1cae047d2444aa7 Mon Sep 17 00:00:00 2001
From: Samuel Holland <samuel@sholland.org>
Date: Thu, 10 Oct 2019 20:05:46 -0500
Subject: [PATCH 1/4] [LLVM] Support vendorless Linux triples

---
 llvm/lib/Support/Triple.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/llvm/lib/Support/Triple.cpp b/llvm/lib/Support/Triple.cpp
index 2c480c1094a..e1e11e3d824 100644
--- a/llvm/lib/Support/Triple.cpp
+++ b/llvm/lib/Support/Triple.cpp
@@ -985,7 +985,7 @@ std::string Triple::normalize(StringRef Str) {
   // Stick the corrected components back together to form the normalized string.
   std::string Normalized;
   for (unsigned i = 0, e = Components.size(); i != e; ++i) {
-    if (i) Normalized += '-';
+    if (i && !Components[i].empty()) Normalized += '-';
     Normalized += Components[i];
   }
   return Normalized;
-- 
2.26.2

