diff --git exiv2-0.27.0-Source/src/futils.cpp
index a30acd9..e71eb0c 100644
--- exiv2-0.27.0-Source/src/futils.cpp.orig
+++ exiv2-0.27.0-Source/src/futils.cpp
@@ -54,7 +54,7 @@
 #include <stdexcept>
 
 #ifdef EXV_HAVE_STRERROR_R
-#ifdef _GNU_SOURCE
+#ifdef __GLIBC__
 extern char *strerror_r(int errnum, char *buf, size_t n);
 #else
 extern int strerror_r(int errnum, char *buf, size_t n);
@@ -348,7 +348,7 @@ namespace Exiv2 {
         std::ostringstream os;
 #ifdef EXV_HAVE_STRERROR_R
         const size_t n = 1024;
-#ifdef _GNU_SOURCE
+#ifdef __GLIBC__
         char *buf = 0;
         char buf2[n];
         std::memset(buf2, 0x0, n);
